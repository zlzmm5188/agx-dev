# AGX 产品模块规划

> 本文档定义 AGX 平台的完整产品模块，供前后端开发参考。

---

## 零、智能投资顾问（AI Assistant）

> **前台重要功能：接入 OpenAI API 提供智能投资建议**

### 功能说明

| 项目 | 说明 |
|------|------|
| 入口 | 首页/我的页面的悬浮按钮，点击弹出对话窗口 |
| 功能 | 回答用户关于投资、矿池、秒合约等问题 |
| 风格 | 友好专业的投资顾问形象 |
| 多语言 | 支持用户当前语言，用对应语言回复 |

### 技术实现

**API 配置（后端配置，前端调用后端接口）：**
```javascript
// OpenAI API 配置
const OPENAI_CONFIG = {
  apiKey: process.env.OPENAI_API_KEY,  // 从环境变量读取
  model: 'gpt-4o-mini',   // 或 gpt-3.5-turbo
  systemPrompt: `你是 AGX 平台的智能投资顾问。
你可以：
- 解答用户关于矿池产品、秒合约交易的问题
- 提供投资建议（但要提示风险）
- 说明平台功能使用方法
请用专业但友好的语气回答。`
};
```

**前端组件：**
```
src/components/
└── AiAssistant/
    ├── AiButton.vue         # 悬浮按钮（右下角）
    ├── AiChatDialog.vue     # 对话窗口
    └── AiMessage.vue        # 消息气泡
```

**UI 设计：**
- 悬浮按钮：右下角，圆形 48px，品牌色背景（#F0B90B），AI图标
- 对话窗口：底部弹出，类似微信聊天界面，最大高度 70vh
- 消息气泡：用户消息靠右，AI回复靠左，有头像
- 加载状态：打字机效果显示 AI 回复

### API 接口

```
POST /api/ai/chat

Request:
{
  "message": "用户问题",
  "language": "zh-CN",
  "history": []  // 可选，历史对话
}

Response:
{
  "code": 0,
  "data": {
    "reply": "AI回复内容"
  }
}
```

### 快捷问题提示

首次打开对话窗口时，显示常见问题快捷按钮：
- "矿池怎么赚钱？"
- "秒合约怎么玩？"
- "如何邀请朋友？"
- "如何提现？"

---

## 一、产品定位

**AGX** 是一个以 **新币发行 + 矿池收益 + 秒合约黄金** 为核心的资金盘式交易平台。

### 核心特点

| 特点 | 说明 |
|------|------|
| 新币 AGX | 平台发行的核心代币，与黄金挂钩 |
| 邀请机制 | 必须有邀请码才能注册，多级返佣 |
| 矿池收益 | 用 AGX 购买矿池，获得每日收益（持币生息） |
| 秒合约 | 用 AGX 交易黄金秒合约，快速盈亏 |
| OTC | 玩家之间撮合交易 AGX |
| 广场社区 | 用户发帖互动 |

---

## 二、底部导航 TabBar（5个）

| Tab | 图标 | 页面 | 说明 |
|-----|------|------|------|
| 首页 | 🏠 | `/` | 新币倒计时、快捷入口、公告 |
| 行情 | 📊 | `/market` | 基金、股票、外汇等数据展示（只看） |
| 交易 | 📈 | `/trade` | 秒合约黄金交易（用 AGX） |
| 广场 | 💬 | `/square` | 用户发帖、互动社区 |
| 我的 | 👤 | `/user` | 个人中心、资产、邀请 |

---

## 三、完整页面模块

### 3.1 首页模块

```
首页 (/)
├── 新币发行倒计时卡片 → 跳转 /ieo
├── AGX 实时价格卡片
├── 公告轮播
├── 快捷入口网格
│   ├── 矿池 → /pool
│   ├── 黄金 → /trade?type=gold
│   ├── OTC → /otc
│   ├── 邀请 → /invite
│   ├── 钱包 → /wallet
│   └── 帮助 → /help
├── 今日收益统计（矿池 + 返佣）
└── 热门币种行情预览
```

### 3.2 新币发行 IEO

```
新币发行 (/ieo)
├── AGX 介绍
│   ├── 代币名称、符号、总量
│   ├── 黄金储备挂钩说明
│   └── 首发价格
├── 认购进度
│   ├── 已认购数量 / 总量
│   ├── 进度条
│   └── 剩余时间倒计时
├── 认购入口
│   ├── 输入认购数量
│   ├── 支付方式（USDT）
│   └── 确认认购
└── 认购记录
```

### 3.3 矿池模块（核心收益）

```
矿池 (/pool)
├── 我的矿池总览
│   ├── 总投入 (AGX)
│   ├── 累计收益
│   └── 昨日收益
├── 矿池产品列表
│   ├── 活期矿池（随存随取）
│   ├── 7日矿池
│   ├── 30日矿池
│   └── 90日矿池
├── 申购入口
│   ├── 选择矿池产品
│   ├── 输入投入 AGX 数量
│   └── 确认申购
└── 我的持仓
    ├── 持仓列表
    ├── 到期时间
    └── 赎回操作
```

> 收益率由后台配置，前端从接口获取显示

### 3.4 秒合约黄金交易

```
交易 (/trade)
├── 交易品种选择
│   ├── XAU/USD（黄金）← 主推
│   ├── XAG/USD（白银）
│   └── 其他贵金属
├── 实时K线图
│   └── 周期切换：1m/5m/15m/1H
├── 秒合约面板
│   ├── 时间选择：30秒/60秒/2分钟/5分钟
│   ├── 投入金额（AGX）
│   ├── 预计收益率：85%
│   ├── 看涨按钮
│   └── 看跌按钮
├── 当前持仓
│   ├── 进行中的合约
│   ├── 倒计时
│   └── 实时盈亏
└── 历史记录
    ├── 胜/负统计
    └── 收益统计
```

### 3.5 行情模块（数据展示）

```
行情 (/market)
├── 主Tab切换
│   ├── 加密货币（BTC/ETH/SOL...）
│   ├── 外汇（EUR/USD...）
│   ├── 股票（美股指数...）
│   ├── 基金（ETF...）
│   └── 债券
├── 子分类
│   ├── 全部
│   ├── 热门
│   ├── 涨幅榜
│   └── 跌幅榜
├── 行情列表
│   ├── 品种名称
│   ├── 最新价
│   ├── 涨跌幅
│   └── 24H成交量
└── 详情页（只看不交易）
    ├── K线图表
    ├── 买卖盘口
    ├── 成交记录
    └── 基本信息
```

**注意：行情模块只提供数据展示，不提供交易功能。**

### 3.6 OTC 撮合交易

```
OTC (/otc)
├── 买入/卖出 Tab
├── 挂单列表
│   ├── 卖家信息（头像、成交量、好评率）
│   ├── 价格
│   ├── 限额
│   ├── 支付方式
│   └── 购买按钮
├── 发布广告
│   ├── 买入/卖出
│   ├── 价格设置
│   ├── 数量范围
│   ├── 支付方式
│   └── 发布
├── 我的订单
│   ├── 进行中
│   ├── 已完成
│   └── 已取消
└── 订单详情
    ├── 交易信息
    ├── 付款信息
    ├── 确认付款
    ├── 确认收款
    └── 申诉
```

### 3.7 广场社区

```
广场 (/square)
├── 信息流
│   ├── 帖子列表
│   │   ├── 用户头像、昵称
│   │   ├── 发帖时间
│   │   ├── 帖子内容（文字+图片）
│   │   ├── 点赞数
│   │   ├── 评论数
│   │   └── 分享
│   └── 下拉刷新/上拉加载
├── 发帖入口
│   ├── 文字输入
│   ├── 图片上传（最多9张）
│   └── 发布
├── 帖子详情
│   ├── 帖子内容
│   ├── 评论列表
│   └── 发表评论
└── 我的动态
    ├── 我的帖子
    └── 我的点赞
```

### 3.8 钱包模块

```
钱包 (/wallet)
├── 资产总览
│   ├── 总资产 (USDT)
│   ├── AGX 余额
│   └── 其他币种
├── Tab切换
│   ├── 资产列表
│   ├── 充币
│   ├── 提币
│   └── 记录
├── 充币
│   ├── 选择币种
│   ├── 选择链
│   ├── 充值地址（二维码+复制）
│   └── 注意事项
├── 提币
│   ├── 选择币种
│   ├── 提币地址
│   ├── 提币数量
│   ├── 手续费显示
│   └── 确认提币
└── 账户划转
    ├── 从 现货账户/矿池账户/返佣账户
    ├── 到 现货账户/矿池账户/返佣账户
    └── 划转数量
```

### 3.9 个人中心

```
我的 (/user)
├── 用户信息头部
│   ├── 头像
│   ├── 用户名
│   └── UID
├── 资产卡片
│   ├── 总资产
│   └── 快捷操作（充币/提币/划转）
├── 收益统计
│   ├── 矿池收益
│   ├── 合约收益
│   └── 邀请返佣
├── 功能菜单
│   ├── 钱包 → /wallet
│   ├── 矿池 → /pool
│   ├── 订单记录 → /orders
│   ├── 邀请好友 → /invite
│   ├── 安全中心 → /security
│   ├── 帮助中心 → /help
│   └── 关于我们 → /about
└── 退出登录
```

### 3.10 邀请返佣

```
邀请 (/invite)
├── 邀请海报
│   ├── 我的邀请码
│   ├── 邀请链接
│   ├── 复制/分享
│   └── 保存海报
├── 返佣规则
│   ├── 一级返佣：20%
│   ├── 二级返佣：10%
│   └── 结算说明
├── 我的团队
│   ├── 直推人数
│   ├── 团队人数
│   └── 团队列表
└── 返佣明细
    ├── 累计返佣
    ├── 本月返佣
    └── 返佣记录
```

---

## 四、数据来源

### 4.1 行情数据

行情模块的数据来源（仅展示，不交易）：

| 类型 | 数据源 | 说明 |
|------|--------|------|
| 加密货币 | Binance API / CoinGecko | BTC、ETH 等实时价格 |
| 外汇 | 第三方外汇API | EUR/USD 等汇率 |
| 黄金 | 金融数据API | XAU/USD 实时金价 |
| 股票 | 财经API | 美股指数、热门股票 |
| 基金 | 财经API | ETF、指数基金 |

### 4.2 交易数据

| 类型 | 数据源 | 说明 |
|------|--------|------|
| AGX 价格 | 平台自定义 | 根据 OTC 成交价或固定价格 |
| 黄金秒合约 | 外部金价 + 平台规则 | 结算价取外部数据 |
| 矿池收益 | 平台计算 | 根据年化利率每日计算 |

---

## 五、资金流向图

```
用户充值 USDT
      ↓
  [现货账户]
      ↓
  ┌───┴───┐
  ↓       ↓
购买AGX   OTC买入AGX
  ↓
[AGX账户]
  ↓
┌─┴─┬─────┬─────┐
↓   ↓     ↓     ↓
矿池 秒合约 OTC卖出 持有
↓   ↓     ↓
收益 盈亏   USDT
↓   ↓     ↓
└───┴─────┴────→ [返佣账户] ← 下级交易返佣
                      ↓
                   提现 USDT
```

---

## 六、收益模式对比

用户问的"锁仓挖矿"vs"持币生息"：

| 模式 | 锁仓挖矿 | 持币生息 |
|------|----------|----------|
| 本质 | 相同，都是用户存入资产获得收益 |
| 名称差异 | "挖矿"听起来更有参与感 | "生息"更直白 |
| 建议 | **使用"矿池"概念** | - |

**建议：使用"矿池"概念**
- 活期矿池（随存随取）
- 定期矿池（锁定期）
- 用户"购买矿池"听起来更有仪式感

---

## 七、UI 设计参考

### 7.1 设计风格

- **仿币安 APP** 的整体风格
- 深色主题，金色品牌色
- 卡片式布局，圆角设计

### 7.2 样式参考文件

```
/www/wwwroot/agx/web-h5/assets/css/tokens.css    # 设计令牌
/www/wwwroot/agx/web-h5/assets/css/components.css # 组件样式
/www/wwwroot/agx/web-h5/app.html                  # 页面模板
/www/wwwroot/agx/frontend-h5/zh-hans.html         # 官网首页
```

### 7.3 核心色彩

```css
/* 品牌色 */
--color-brand: #F0B90B;        /* 币安金 */
--color-brand-dark: #D4B872;   /* 深金 */

/* 背景色 */
--bg-primary: #0B0E11;         /* 主背景 */
--bg-secondary: #181A20;       /* 次级背景 */
--bg-card: #1E2329;            /* 卡片背景 */

/* 语义色 */
--color-up: #0ECB81;           /* 涨 - 绿 */
--color-down: #F6465D;         /* 跌 - 红 */

/* 文字 */
--text-primary: #EAECEF;
--text-secondary: #848E9C;
```

---

**本文档为产品总览，具体接口请参考 `API_CONTRACT.md`，业务规则请参考 `BUSINESS_RULES.md`。**
