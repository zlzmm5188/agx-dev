# å¿«é€Ÿå…¥é—¨

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**  
- [agx-admin/package.json](file://agx-admin/package.json)
- [agx-backend/package.json](file://agx-backend/package.json)
- [h5/package.json](file://h5/package.json)
- [agx-admin/.env.example](file://agx-admin/.env.example)
- [agx-backend/.env](file://agx-backend/.env)
- [h5/.env](file://h5/.env)
- [agx-admin/vite.config.js](file://agx-admin/vite.config.js)
- [agx-backend/src/main.ts](file://agx-backend/src/main.ts)
- [h5/vite.config.js](file://h5/vite.config.js)
- [agx-admin/index.html](file://agx-admin/index.html)
- [h5/index.html](file://h5/index.html)
- [agx-admin/src/main.js](file://agx-admin/src/main.js)
- [h5/src/main.js](file://h5/src/main.js)
- [agx-backend/src/app.module.ts](file://agx-backend/src/app.module.ts)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
4. [å…‹éš†é¡¹ç›®](#å…‹éš†é¡¹ç›®)
5. [å®‰è£…ä¾èµ–](#å®‰è£…ä¾èµ–)
6. [é…ç½®ç¯å¢ƒå˜é‡](#é…ç½®ç¯å¢ƒå˜é‡)
7. [å¯åŠ¨åç«¯æœåŠ¡](#å¯åŠ¨åç«¯æœåŠ¡)
8. [å¯åŠ¨ç®¡ç†åå°](#å¯åŠ¨ç®¡ç†åå°)
9. [å¯åŠ¨ç§»åŠ¨ç«¯åº”ç”¨](#å¯åŠ¨ç§»åŠ¨ç«¯åº”ç”¨)
10. [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
11. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ç®€ä»‹
æœ¬æŒ‡å—ä¸ºæ–°å¼€å‘è€…æä¾›ä»é›¶å¼€å§‹æ­å»ºå’Œè¿è¡Œ agx-dev é¡¹ç›®çš„å®Œæ•´åˆ†æ­¥æŒ‡å¯¼ã€‚agx-dev æ˜¯ä¸€ä¸ªåŒ…å«åç«¯ APIã€ç®¡ç†åå°å’Œç§»åŠ¨ç«¯ H5 åº”ç”¨çš„å®Œæ•´äº¤æ˜“æ‰€ç³»ç»Ÿã€‚æœ¬æŒ‡å—å°†å¼•å¯¼æ‚¨å®Œæˆæ‰€æœ‰å¿…è¦çš„æ­¥éª¤ï¼Œç¡®ä¿æ‚¨èƒ½åœ¨ 30 åˆ†é’Ÿå†…æˆåŠŸè¿è¡Œæ•´ä¸ªé¡¹ç›®ã€‚

## é¡¹ç›®ç»“æ„
agx-dev é¡¹ç›®ç”±ä¸‰ä¸ªä¸»è¦å­é¡¹ç›®ç»„æˆï¼Œåˆ†åˆ«ä½äºä¸åŒçš„ç›®å½•ä¸­ï¼š

- `agx-backend/`ï¼šåŸºäº NestJS çš„åç«¯æœåŠ¡ï¼Œæä¾›æ‰€æœ‰ API æ¥å£ã€‚
- `agx-admin/`ï¼šåŸºäº Vue 3 çš„ç®¡ç†åå°ï¼Œç”¨äºç³»ç»Ÿç®¡ç†å’Œæ•°æ®ç›‘æ§ã€‚
- `h5/`ï¼šåŸºäº Vue 3 çš„ç§»åŠ¨ç«¯ H5 åº”ç”¨ï¼Œæä¾›ç”¨æˆ·ç«¯åŠŸèƒ½ã€‚

æ¯ä¸ªå­é¡¹ç›®éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‰ç«¯æˆ–åç«¯åº”ç”¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„ `package.json` æ–‡ä»¶å’Œä¾èµ–é¡¹ã€‚

```mermaid
graph TD
A[agx-dev é¡¹ç›®æ ¹ç›®å½•] --> B[agx-backend]
A --> C[agx-admin]
A --> D[h5]
B --> E[NestJS åç«¯ API]
C --> F[Vue 3 ç®¡ç†åå°]
D --> G[Vue 3 ç§»åŠ¨ç«¯åº”ç”¨]
```

**Diagram sources**
- [agx-backend/package.json](file://agx-backend/package.json)
- [agx-admin/package.json](file://agx-admin/package.json)
- [h5/package.json](file://h5/package.json)

**Section sources**
- [agx-backend/package.json](file://agx-backend/package.json)
- [agx-admin/package.json](file://agx-admin/package.json)
- [h5/package.json](file://h5/package.json)

## ç¯å¢ƒå‡†å¤‡
åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒå·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- **Git**ï¼šç”¨äºå…‹éš†é¡¹ç›®ä»£ç ã€‚
- **Node.js** (v16 æˆ–æ›´é«˜ç‰ˆæœ¬)ï¼šé¡¹ç›®ä¾èµ– Node.js è¿è¡Œã€‚
- **npm æˆ– yarn**ï¼šç”¨äºå®‰è£…é¡¹ç›®ä¾èµ–ã€‚
- **PostgreSQL**ï¼šåç«¯æœåŠ¡ä½¿ç”¨ PostgreSQL ä½œä¸ºæ•°æ®åº“ã€‚

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç¯å¢ƒæ˜¯å¦å·²æ­£ç¡®å®‰è£…ï¼š
```bash
node --version
npm --version
git --version
```

## å…‹éš†é¡¹ç›®
ä½¿ç”¨ Git å‘½ä»¤å°† agx-dev é¡¹ç›®å…‹éš†åˆ°æ‚¨çš„æœ¬åœ°æœºå™¨ï¼š

```bash
git clone https://github.com/your-repo/agx-dev.git
cd agx-dev
```

æ­¤å‘½ä»¤ä¼šå°†æ•´ä¸ªé¡¹ç›®ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ã€‚

## å®‰è£…ä¾èµ–
é¡¹ç›®åŒ…å«ä¸‰ä¸ªç‹¬ç«‹çš„å­é¡¹ç›®ï¼Œæ‚¨éœ€è¦åˆ†åˆ«ä¸ºæ¯ä¸ªå­é¡¹ç›®å®‰è£…ä¾èµ–ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# å®‰è£…åç«¯æœåŠ¡ä¾èµ–
cd agx-backend && npm install
cd ..

# å®‰è£…ç®¡ç†åå°ä¾èµ–
cd agx-admin && npm install
cd ..

# å®‰è£…ç§»åŠ¨ç«¯åº”ç”¨ä¾èµ–
cd h5 && npm install
cd ..
```

**æ³¨æ„**ï¼šæ¯ä¸ª `npm install` å‘½ä»¤éƒ½å¿…é¡»åœ¨å¯¹åº”çš„å­é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œã€‚

**Section sources**
- [agx-backend/package.json](file://agx-backend/package.json)
- [agx-admin/package.json](file://agx-admin/package.json)
- [h5/package.json](file://h5/package.json)

## é…ç½®ç¯å¢ƒå˜é‡
æ¯ä¸ªå­é¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼Œç”¨äºè®¾ç½®è¿è¡Œæ—¶å‚æ•°ã€‚

### é…ç½®åç«¯æœåŠ¡
åç«¯æœåŠ¡çš„ç¯å¢ƒå˜é‡ä½äº `agx-backend/.env` æ–‡ä»¶ä¸­ã€‚è¯¥æ–‡ä»¶å·²åŒ…å«é»˜è®¤é…ç½®ï¼Œé€šå¸¸æ— éœ€ä¿®æ”¹å³å¯è¿è¡Œã€‚

å…³é”®é…ç½®é¡¹ï¼š
- `PORT=3000`ï¼šåç«¯æœåŠ¡ç›‘å¬çš„ç«¯å£ã€‚
- `DB_HOST`, `DB_PORT`, `DB_USERNAME`, `DB_PASSWORD`, `DB_DATABASE`ï¼šPostgreSQL æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚

```bash
# æŸ¥çœ‹åç«¯ç¯å¢ƒé…ç½®
cat agx-backend/.env
```

### é…ç½®ç®¡ç†åå°
ç®¡ç†åå°çš„ç¯å¢ƒå˜é‡åŸºäº `agx-admin/.env.example` æ–‡ä»¶ã€‚æ‚¨éœ€è¦å¤åˆ¶æ­¤æ–‡ä»¶å¹¶æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚

```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶
cp agx-admin/.env.example agx-admin/.env

# æŸ¥çœ‹é…ç½®å†…å®¹
cat agx-admin/.env
```

å…³é”®é…ç½®é¡¹ï¼š
- `VITE_APP_PORT = 2888`ï¼šç®¡ç†åå°å¼€å‘æœåŠ¡å™¨çš„ç«¯å£ã€‚
- `VITE_APP_BASE = /`ï¼šåº”ç”¨çš„æ ¹è·¯å¾„ã€‚
- `VITE_APP_OPEN_PROXY = true`ï¼šæ˜¯å¦å¼€å¯ä»£ç†ï¼Œç”¨äºè§£å†³è·¨åŸŸé—®é¢˜ã€‚

### é…ç½®ç§»åŠ¨ç«¯åº”ç”¨
ç§»åŠ¨ç«¯åº”ç”¨çš„ç¯å¢ƒå˜é‡ä½äº `h5/.env` æ–‡ä»¶ä¸­ã€‚

```bash
# æŸ¥çœ‹ç§»åŠ¨ç«¯ç¯å¢ƒé…ç½®
cat h5/.env
```

å…³é”®é…ç½®é¡¹ï¼š
- `VITE_API_BASE_URL`ï¼šAPI æœåŠ¡å™¨åœ°å€ã€‚
- `VITE_WS_BASE_URL`ï¼šWebSocket æœåŠ¡å™¨åœ°å€ã€‚

**Section sources**
- [agx-backend/.env](file://agx-backend/.env)
- [agx-admin/.env.example](file://agx-admin/.env.example)
- [h5/.env](file://h5/.env)

## å¯åŠ¨åç«¯æœåŠ¡
åç«¯æœåŠ¡å¿…é¡»é¦–å…ˆå¯åŠ¨ï¼Œå› ä¸ºç®¡ç†åå°å’Œç§»åŠ¨ç«¯åº”ç”¨éƒ½ä¾èµ–äºå®ƒæä¾›çš„ APIã€‚

1. ç¡®ä¿ PostgreSQL æ•°æ®åº“æ­£åœ¨è¿è¡Œã€‚
2. åœ¨ `agx-backend` ç›®å½•ä¸­å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
cd agx-backend
npm run dev
```

å¦‚æœå¯åŠ¨æˆåŠŸï¼Œæ‚¨å°†åœ¨ç»ˆç«¯çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
```
ğŸš€ AGX Backend running on: http://0.0.0.0:3000
```

è¿™è¡¨ç¤ºåç«¯æœåŠ¡å·²åœ¨ `http://localhost:3000` ä¸ŠæˆåŠŸå¯åŠ¨ã€‚

**Section sources**
- [agx-backend/package.json](file://agx-backend/package.json)
- [agx-backend/src/main.ts](file://agx-backend/src/main.ts)

## å¯åŠ¨ç®¡ç†åå°
åœ¨åç«¯æœåŠ¡è¿è¡Œåï¼Œæ‚¨å¯ä»¥å¯åŠ¨ç®¡ç†åå°ã€‚

1. æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£æˆ–æ ‡ç­¾é¡µã€‚
2. è¿›å…¥ `agx-admin` ç›®å½•å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
cd agx-admin
npm run dev
```

å¦‚æœå¯åŠ¨æˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
```
  VITE v5.1.4  ready in 2250 ms
  âœ  Local:   http://localhost:2888/
  âœ  Network: use --host to expose
```

## å¯åŠ¨ç§»åŠ¨ç«¯åº”ç”¨
æœ€åï¼Œå¯åŠ¨ç§»åŠ¨ç«¯ H5 åº”ç”¨ã€‚

1. å†æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£æˆ–æ ‡ç­¾é¡µã€‚
2. è¿›å…¥ `h5` ç›®å½•å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
cd h5
npm run dev
```

å¦‚æœå¯åŠ¨æˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
```
  VITE v7.0.0  ready in 1500 ms
  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
```

## éªŒè¯å®‰è£…
ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡è®¿é—®ä»¥ä¸‹ URL æ¥éªŒè¯æ‰€æœ‰æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

1. **ç®¡ç†åå°**ï¼šæ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—® `http://localhost:2888`ã€‚æ‚¨åº”è¯¥èƒ½çœ‹åˆ° AGX Admin çš„ç™»å½•é¡µé¢ã€‚
2. **åç«¯ API**ï¼šè®¿é—® `http://localhost:3000`ã€‚å¦‚æœåç«¯æ­£å¸¸è¿è¡Œï¼Œæ‚¨å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªç®€å•çš„æ¬¢è¿ä¿¡æ¯æˆ–è·¯ç”±æœªæ‰¾åˆ°çš„æç¤ºï¼ˆè¿™è¡¨ç¤ºæœåŠ¡å·²å¯åŠ¨ï¼‰ã€‚
3. **ç§»åŠ¨ç«¯åº”ç”¨**ï¼šè®¿é—® `http://localhost:5173`ã€‚æ‚¨åº”è¯¥èƒ½çœ‹åˆ°ç§»åŠ¨ç«¯åº”ç”¨çš„é¦–é¡µã€‚

å¦‚æœæ‰€æœ‰ä¸‰ä¸ª URL éƒ½èƒ½æ­£å¸¸è®¿é—®ï¼Œåˆ™è¯´æ˜æ‚¨çš„å®‰è£…å’Œé…ç½®å·²æˆåŠŸå®Œæˆã€‚

## å¸¸è§é—®é¢˜
- **é—®é¢˜**ï¼šå¯åŠ¨åç«¯æ—¶å‡ºç°æ•°æ®åº“è¿æ¥é”™è¯¯ã€‚
  **è§£å†³æ–¹æ¡ˆ**ï¼šè¯·ç¡®ä¿ PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œå¹¶æ£€æŸ¥ `agx-backend/.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ã€‚

- **é—®é¢˜**ï¼šç®¡ç†åå°æ— æ³•è®¿é—® APIã€‚
  **è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨ï¼Œå¹¶ä¸” `agx-admin/vite.config.js` ä¸­çš„ä»£ç†é…ç½®æ­£ç¡®ã€‚

- **é—®é¢˜**ï¼šå®‰è£…ä¾èµ–æ—¶å‡ºç°ç½‘ç»œé”™è¯¯ã€‚
  **è§£å†³æ–¹æ¡ˆ**ï¼šå°è¯•ä½¿ç”¨å›½å†…é•œåƒæºï¼Œä¾‹å¦‚ `npm config set registry https://registry.npmmirror.com`ã€‚